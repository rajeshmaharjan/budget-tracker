<div class="offcanvas-header">
    <h5>{{ mode }} Transaction</h5>

    <button
        type="button"
        class="btn-close text-reset"
        aria-label="Close"
        (click)="activeOffcanvas.dismiss('Cross click')"
    ></button>
</div>

<div class="offcanvas-body">
    <form
        (ngSubmit)="onSubmit()"
        [formGroup]="formGroup"
    >
        <div class="form-group mb-3">
            <label
                for="description"
                class="form-label"
            >Description</label>

            <input
                type="text"
                id="description"
                class="form-control"
                [class.is-invalid]="submitted && fc['description'].errors"
                formControlName="description"
                placeholder="Enter transaction description"
            />

            <div
                *ngIf="submitted && fc['description'].errors?.['required']"
                class="invalid-feedback"
            >Please enter transaction description.</div>
        </div>

        <div class="form-group mb-3">
            <label
                for=""
                class="form-label"
            >Amount</label>
            <input
                type="text"
                mask="separator.2"
                thousandSeparator=","
                class="form-control"
                [class.is-invalid]="submitted && fc['amount'].errors"
                placeholder="Enter amount"
                formControlName="amount"
            />
            <div
                *ngIf="submitted && fc['amount'].errors?.['required']"
                class="invalid-feedback"
            >Please enter transaction amount.</div>

            <div
                *ngIf="submitted && fc['amount'].errors?.['min']"
                class="invalid-feedback"
            >Transaction amount must be greater than 0.</div>
        </div>

        <div class="form-group mb-3">
            <label
                for=""
                class="form-label"
            >Date</label>
            <input
                type="date"
                class="form-control"
                [class.is-invalid]="submitted && fc['date'].errors"
                placeholder="Select date"
                formControlName="date"
            />
            <div
                *ngIf="submitted && fc['date'].errors?.['required']"
                class="invalid-feedback"
            >Please choose transaction date.</div>
        </div>

        <div class="form-group mb-3">
            <label
                for=""
                class="form-label"
            >Type</label>
            <select
                class="form-select"
                [class.is-invalid]="submitted && fc['type'].errors"
                formControlName="type"
            >
                <option
                    value=""
                    disabled
                >--SELECT--</option>
                <option
                    *ngFor="let option of transactionTypes"
                    [value]="option.value"
                >{{ option.label }}</option>
            </select>
            <div
                *ngIf="submitted && fc['type'].errors?.['required']"
                class="invalid-feedback"
            >Please select transaction type.</div>
        </div>

        <div class="form-group mb-3">
            <div class="d-flex justify-content-end align-items-center gap-2">
                <button
                    type="submit"
                    class="btn btn-success d-flex justify-content-center align-items-center gap-1"
                >
                    <app-svg-icon name="save"></app-svg-icon>
                    Save
                </button>

                <button
                    type="button"
                    class="btn btn-danger d-flex justify-content-center align-items-center gap-1"
                    (click)="activeOffcanvas.dismiss('Cancel click')"
                >
                    <app-svg-icon name="x"></app-svg-icon>
                    Cancel
                </button>
            </div>
        </div>
    </form>
</div>
